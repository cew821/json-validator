// Generated by CoffeeScript 1.4.0
(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.validate=t(this.validate,this),this.codeMirror=CodeMirror.fromTextArea(this.input[0],this.codeMirrorOptions),this.validator=amanda("json"),this.validate()}return e.prototype.feedback=$("#feedback"),e.prototype.input=$("#input"),e.prototype.codeMirrorOptions={mode:{name:"javascript",json:!0},onChange:function(){return project_open_data_validator.validate()},lineNumbers:!0,autofocus:!0},e.prototype.validatorOptions={},e.prototype.validate=function(){return this.validator.validate(this.codeMirror.getValue(),schema,this.validatorOptions,function(e){return e!=null?$(this.feedback).html(e.getMessages().join(" :(<br /> ")+" :(").removeClass("valid"):$(this.feedback).html("Valid :)").addClass("valid")})},e}(),jQuery(document).ready(function(t){return window.project_open_data_validator=new e})}).call(this);